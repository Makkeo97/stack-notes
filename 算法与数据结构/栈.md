# 什么是栈？
* 栈（stack）是一种遵循**先入后出**逻辑的线性数据结构。如图所示，我们把堆叠元素的顶部称为“栈顶”，底部称为“栈底”。将把元素添加到栈顶的操作叫作“入栈”，删除栈顶元素的操作叫作“出栈”。（本质也是链表的一种特殊形态）
![Pasted image 20241025112731.png](./assets/image-20241025112731.png)
```c
//演示程序
#include <stdio.h>
#include <string.h>
#include <stdbool.h>
#include <stdlib.h>

//定义一个数据结构体
typedef struct Data{
    char name[16];
    char phone[16];
    char address[32];
}Data;
//定义一个节点结构体
typedef struct Node{
    Data data;
    struct Node *next;
}Node;
//定义一个栈结构体，里面存放顶底节点和长度与容量
typedef struct Stack{
    Node *top;
    Node *bottom;
    int length;
    int capacity;
}Stack;

//创建并初始化栈返回地址
Stack *creatStack(int capacity){
    Stack *s = malloc(sizeof(Stack));
    s->bottom=s->top=NULL;
    s->capacity=capacity;
    s->length=0;
    return s;
}
//创建新节点并返回新节点的地址
Node *createNode(Data data){
    Node *newNode = malloc(sizeof(Node));
    newNode->data=data;
    newNode->next=NULL;
    return newNode;
}
//入栈
void inStack(Stack *s,Data data){
    if(s == NULL){return;}
    if(s->length==s->capacity){
            puts("栈已满！");
            return;
    }
    Node *newNode = createNode(data);
    if(s->top==NULL){
        s->top=s->bottom=newNode;
    }else{
        s->top->next=newNode;
        s->top=newNode;
    }
    s->length++;
}
//出栈
Data outStack(Stack *s){
    Data zero ={0};
    if(s==NULL || s->length==0){return zero;}
    if(s->length==1){
        zero=s->top->data;
        free(s->top);
        s->top=s->bottom=NULL;
    }else{
        Node *prev=s->bottom;
        for(int i=0;i<s->length-2;i++){
            prev=prev->next;
        }
        zero=prev->next->data;
        s->top=prev;
        free(s->top->next);
        s->top->next=NULL;
    }
    s->length--;
    return zero;
}
//打印栈
void printfAll(Stack *s){
    if(s==NULL){return;}
    Node *current=s->bottom;
    while(current!=NULL){
        printf("姓名:%s 联系方式:%s 地址:%s\n",current->data.name,current->data.phone,current->data.address);
        current=current->next;
    }
}

int main(){
    Stack *stack = creatStack(5);//创建新队列queue并初始化队列
    Data data1={"王一","+86123456789","192.168.1.1"};
    Data data2={"王二","+86222222222","192.168.1.1"};
    Data data3={"王三","+86123456789","192.168.1.1"};
    Data data4={"王四","+86123456789","192.168.1.1"};
    Data data5={"王五","+86123456789","192.168.1.1"};
    inStack(stack,data1);
    inStack(stack,data2);
    inStack(stack,data3);
    inStack(stack,data4);
    inStack(stack,data5);
    outStack(stack);
    outStack(stack);
    printfAll(stack);
    return 0;
}
```

