## Qt常用类

1. 图像处理类
   
2. 字体处理类
   
3. 尺寸处理类
   
4. 图标处理类
   
5. 定时器类
   

### 一、QPixmap

> `QPixmap` 是 Qt 框架中用于处理图像的一个核心类。用于处理图像，提供了对图像的操作功能，比如加载、保存、转换格式等。

#### 1、加载图像

可以使用 `QPixmap` 的构造函数或 `load()` 方法来加载一个图像。

1. `QPixmap pixmap("path/image.png");`
2. `if (pixmap.isNull()) {`
3.     `// 处理加载失败的情况`
4. `}`

或者

1. `QPixmap pixmap;`
2. `if (!pixmap.load("path/image.png")) {`
3.     `// 处理加载失败的情况`
4. `}`

#### 2、显示图像

在 Qt Widgets 应用中，可以使用 `QLabel` 或`QPushButton`等控件结合使用来显示图片。

使用 `QLabel` 显示图像：

1. `QLabel label;`
2. `label.setPixmap(pixmap);`

#### 3、图像转换

**缩放图片**：使用`scaled()`方法可以改变图片的尺寸。

1. `QPixmap scaledPixmap = pixmap.scaled(100, 100); // 缩放到100x100像素`

**旋转图片**：通过`transformed()`方法配合`QTransform`可以实现图片的旋转。

1. `QTransform rotateTransform;`
2. `rotateTransform.rotate(90); // 旋转90度`
3. `QPixmap rotatedPixmap = pixmap.transformed(rotateTransform);`

示例：

1. `#include "form.h"`
2. `#include "ui_form.h"`
3. `#include <QPixmap>`
4. `#include <QLabel>`
5. `#include <QHBoxLayout>`
6. `#include <QPushButton>`
7. `Form::Form(QWidget *parent)`
8.     `: QWidget(parent)`
9.     `, ui(new Ui::Form)`
10. `{`
11.     `ui->setupUi(this);`
12.     `QPixmap pixmap(":/checkbox_checked.png");`
13.     `pixmap = pixmap.scaled(20, 20);`

15.     `QTransform t;`
16.     `t.rotate(90); //旋转90度`
17.     `pixmap = pixmap.transformed(t);//通过变换矩阵 t 进行转换`

19.     `QLabel *qlabel = new QLabel;`
20.     `qlabel->setPixmap(pixmap);`

22.     `QVBoxLayout *layout = new QVBoxLayout;`
23.     `layout->addWidget(qlabel);`

25.     `this->setLayout(layout);`

27. `}`

### 二、QFont

> `QFont` 类用于描述字体属性，如字体族（family）、大小（point size）、粗细（weight）和斜体（italic）等。

可以使用 `QFont` 来设置文本控件（如 `QLabel`, `QPushButton`, `QTextEdit` 等）中的字体样式。

#### 1、创建和设置字体

1. `QFont font("Microsoft YaHei", 12, QFont::Bold); //创建了一个 Microsoft YaHei 字体，大小为 12 点，加粗。`

或

1. `QFont font("Microsoft YaHei", 12); // 创建一个Microsoft YaHei字体，大小为12pt`
2. `font.setBold(true); // 设置字体为粗体`
3. `font.setItalic(true); // 设置字体为斜体`

常见字体：宋体 SimSun、黑体 SimHei、微软雅黑 Microsoft YaHei、微软正黑体 Microsoft JhengHei、楷体 KaiTi。

#### 2、应用字体

应用字体到控件，如`QLabel`、`QPushButton`等：

1. `QLabel *label = new QLabel("Hello, World!", this);`
2. `label->setFont(font);`

#### 3、示例

1. `Form::Form(QWidget *parent)`
2.     `: QWidget(parent)`
3.     `, ui(new Ui::Form)`
4. `{`
5.     `ui->setupUi(this);`
6.     `this->setWindowTitle("字体处理");`
7.     `QHBoxLayout *layout = new QHBoxLayout(this);`

9.     `QLabel *label = new QLabel("这里是标签");`
10.     `label->setFont(QFont("KaiTi", 24));`

12.     `layout->addWidget(label);`

14.     `QPushButton *btn = new QPushButton("按钮");`
15.     `QFont font("黑体", 24);`
16.     `font.setBold(true);`
17.     `btn->setFont(font);`

19.     `layout->addWidget(btn);`
20. `}`

### 三、QSize

> `QSize`类用来表示一个二维尺寸，通常用于指定窗口或控件的宽度和高度。

#### 1、创建和使用

1. `QSize size(100, 50); // 创建一个尺寸为100x50的QSize对象`

在调整控件大小时使用：

1. `QWidget *widget = new QWidget(this);`
2. `widget->resize(size);`

#### 2、示例

1. `Form::Form(QWidget *parent)`
2.     `: QWidget(parent)`
3.     `, ui(new Ui::Form)`
4. `{`
5.     `ui->setupUi(this);`
6.     `this->setWindowTitle("尺寸处理");`
7.     `this->resize(QSize(300,200));`

9.     `QLineEdit *edit = new QLineEdit(this);`
10.     `edit->setMinimumSize(QSize(200, 24));`
11. `}`

### 四、QIcon

> `QIcon` 类用于管理图标集，这些图标可以被用于按钮、菜单项、工具栏按钮等 UI 元素上。可以从文件加载图标或者使用 `QPixmap` 创建图标。

#### 1、加载和设置图标

1. `QIcon icon(":/icons/myicon.png");  // 从资源文件加载图标`

#### 2、将图标应用到控件

1. `QIcon icon(":/icons/my_icon.png"); // 从资源文件加载图标`
2. `QPushButton *button = new QPushButton(this);`
3. `button->setIcon(icon); // 将图标设置给按钮`

#### 3、图标大小调整

可以在使用时通过`setIconSize()`方法调整图标大小：

1. `button->setIconSize(QSize(32, 32)); // 设置图标尺寸为32x32像素`

给按钮添加图标：

1. `Form::Form(QWidget *parent)`
2.     `: QWidget(parent)`
3.     `, ui(new Ui::Form)`
4. `{`
5.     `ui->setupUi(this);`
6.     `this->setWindowTitle("图标处理");`
7.     `this->resize(QSize(300,200));`

9.     `QPushButton *btn = new QPushButton(this);`
10.     `btn->setText("按钮");`
11.     `btn->resize(QSize(100, 24));`

13.     `QIcon icon(":/checkbox_checked.png");`
14.     `btn->setIcon(icon);`
15.     `btn->setIconSize(QSize(14,14));`
16. `}`

### 五、QTimer

> `QTimer` 类提供了定时触发事件的功能，常用于实现周期性任务或延时执行某个操作。

可以将 `QTimer` 设置为单次触发或重复触发，并且可以通过信号槽机制连接到特定的槽函数来处理定时事件。

#### 1、创建QTimer实例

父对象被销毁时，QTimer也会自动清理。

1. `QTimer *timer = new QTimer(parent);`

#### 2、连接timeout()信号

QTimer提供了一个`timeout()`信号，这个信号在设定的时间间隔到期时发射

1. `connect(timer, &QTimer::timeout, this, &MyClass::onTimeout);`

#### 3、设置时间间隔并启动

使用`start()`方法来启动定时器，并指定时间间隔（以毫秒为单位）

1. `// 设置为单次触发`
2. `//timer->setSingleShot(true);`
3. `timer->start(1000); // 每隔 1000 毫秒（即 1 秒）触发一次timeout信号`

#### 4、停止定时器

使用`stop()`方法停止定时器

1. `timer->stop(); // 停止定时器`