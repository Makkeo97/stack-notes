# 一、四步编译过程
## 1.预处理（-E）
* 这一步会处理源代码中的预处理指令，如`#include`、`#define`等，但不进行编译。例如：`g++ -E main.cpp -o main.i`会生成预处理后的文件`main.i`。
## 2.编译（-S）
* 将预处理后的代码转换为汇编代码。如：`g++ -S main.i`会产生一个汇编代码文件`main.s`。
## 3.汇编（-c）
* 将汇编代码转换为目标文件（机器代码）。例如：`g++ -c main.s -o main.o`会得到目标文件`main.o`。
## 4.链接（-o）
* 链接阶段会进行符号解析、重定位、库解析等。最终将多个编译单元组合成一个完整的可执行程序或库。

**可以直接完成四个步骤**
```cmd
g++ -o output main.cpp
```
# 二、举例
比如我们有两个源文件`main.cpp`和`func.cpp`。`main.cpp`中调用了`func.cpp`中定义的函数`void myFunction()`。
1. 在预处理阶段，处理源代码中的预处理指令
2. 在编译期间，编译器生成目标文件时会记录这些符号的定义（即它们的实际位置）和引用（即其他地方对它们的调用）。
3. 在汇编阶段，生成汇编语言
4. 在链接阶段，链接器会在`func.cpp`编译生成的目标文件中查找`myFunction`的定义，找到其实际位置，从而将`main.cpp`中对`myFunction`的引用和`func.cpp`中的实际定义关联起来。
